<form>
    <div class="border-black border-2 border-b-0 p-1 flex h-10 w-full">
      <input
      type="color"
      [ngClass]="{ 'bg-black text-white': editor.isActive('setcolor') }"
      (input)="editor.chain().focus().setColor(($any($event.target).value)).run()"
      value="editor.getAttributes('textStyle').color"
      data-testid="setColor"
    />
    <button (click)="addImage()">Set image</button>
      <button
      class="rounded h-7 flex justify-center items-center px-1"
      [ngClass]="{ 'bg-black text-white': editor.isActive('blockquote') }"
      (click)="editor.chain().focus().toggleBlockquote().run()"
    >
     blockquote
    </button>
    <button class="rounded h-7 flex justify-center items-center px-1"
    [ngClass]="{ 'bg-black text-white': editor.isActive('link') }" (click)="setLink()">Set link</button>
    <button
    class="rounded h-7 flex justify-center items-center px-1"
      [ngClass]="{ 'bg-black text-white': editor.isActive('link') }"
      (click)="editor.chain().focus().unsetLink().run()"
    >
      Unset link
    </button>
    <div className="button-group">
      <button
        [ngClass]="{ 'bg-black text-white': editor.isActive('underline') }"
        (click)="editor.chain().focus().toggleUnderline().run()"
      >
        Toggle underline
      </button>
      <button
      [ngClass]="{ 'bg-black text-white': editor.isActive('underline') }"
        (click)="editor.chain().focus().setUnderline().run()"
      >
        Set underline
      </button>
      <button
      [ngClass]="{ 'bg-black text-white': editor.isActive('underline') }"[ngClass]="{ 'bg-black text-white': editor.isActive('underline') }"
        (click)="editor.chain().focus().unsetUnderline().run()"
      >
        Unset underline
      </button>
    </div>
    <div className="button-group">
      <button
        (click)="editor.chain().focus().toggleSubscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('subscript') }"
      >
        Toggle subscript
      </button>
      <button
        (click)="editor.chain().focus().setSubscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('subscript') }"
      >
        Set subscript
      </button>
      <button
        (click)="editor.chain().focus().unsetSubscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('subscript') }"
      >
        Unset subscript
      </button>
    </div>
    <div className="button-group">
      <button
        (click)="editor.chain().focus().toggleSuperscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('superscript') }"
      >
        Toggle superscript
      </button>
      <button
        (click)="editor.chain().focus().setSuperscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('superscript') }"
      >
        Set superscript
      </button>
      <button
        (click)="editor.chain().focus().unsetSuperscript().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('superscript') }"
      >
        Unset superscript
      </button>
    </div>
    <button
    class="rounded h-7  flex justify-center items-center px-1"
      [ngClass]="{ 'bg-black text-white': editor.isActive('bulletlist') }"
      (click)="editor.chain().focus().toggleBulletList().run()"
    >
     bulletList
    </button>
    <button

      [ngClass]="{ 'bg-black text-white': editor.isActive('horizontalrule') }"
      (click)="editor.chain().focus().setHorizontalRule().run()"
    >
    HR
    </button>
    <button
    class="rounded h-7  flex justify-center items-center px-1"
      [ngClass]="{ 'bg-black text-white': editor.isActive('listitem') }"
      (click)="editor.chain().focus().toggleOrderedList().run()"
    >
     OrderedList
    </button>
    <button
    [ngClass]="{ 'bg-black text-white': editor.isActive('splitlistitem') }"
   (click)="editor.chain().focus().splitListItem('listItem').run()"
  >
    Split list item
  </button>
  <button
  [ngClass]="{ 'bg-black text-white': editor.isActive('sinklistitem') }"
   (click)="editor.chain().focus().sinkListItem('listItem').run()"
  >
    Sink list item
  </button>
  <button
  [ngClass]="{ 'bg-black text-white': editor.isActive('liftlistitem') }"
   (click)="editor.chain().focus().liftListItem('listItem').run()"
  >
    Lift list item
  </button>
      <button
        class="rounded h-7 w-7 flex justify-center items-center px-1"
        [ngClass]="{ 'bg-black text-white': editor.isActive('heading') }"
        (click)="editor.chain().focus().toggleHeading({ level: 1 }).run()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path fill="none" d="M0 0H24V24H0z" />
          <path d="M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z" />
        </svg>
      </button>
      <button
        class="rounded h-7 w-7 flex justify-center items-center px-1"
        [ngClass]="{ 'bg-black text-white': editor.isActive('heading') }"
        (click)="editor.chain().focus().toggleHeading({ level: 2 }).run()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path fill="none" d="M0 0H24V24H0z" />
          <path d="M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z" />
        </svg>
      </button>
      <button
      class="rounded h-7 w-7 flex justify-center items-center px-1"
        [ngClass]="{ 'bg-black text-white': editor.isActive('bold') }"
        (click)="editor.chain().focus().toggleBold().run()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path fill="none" d="M0 0h24v24H0z" />
          <path
            d="M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"
          />
        </svg>
      </button>
      <button
      class="rounded h-7  flex justify-center items-center px-1"
        [ngClass]="{ 'bg-black text-white': editor.isActive('strike') }"
        (click)="editor.chain().focus().toggleStrike().run()"
      >
       strike
      </button>

      <button

        [ngClass]="{ 'bg-black text-white': editor.isActive('italic') }"
        (click)="editor.chain().focus().toggleItalic().run()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path fill="none" d="M0 0h24v24H0z" />
          <path d="M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z" />
        </svg>
      </button>
      <button

        [ngClass]="{ 'bg-black text-white': editor.isActive('paragraph') }"
        (click)="editor.chain().focus().setParagraph().run()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path fill="none" d="M0 0h24v24H0z" />
          <path d="M12 6v15h-2v-5a6 6 0 1 1 0-12h10v2h-3v15h-2V6h-3zm-2 0a4 4 0 1 0 0 8V6z" />
        </svg>
      </button>
    </div>
    <div className="button-group">
      <button
        (click)="editor.chain().focus().setTextAlign('left').run()"
      >
        Left
      </button>
      <button
        (click)="editor.chain().focus().setTextAlign('center').run()"
      >
        Center
      </button>
      <button
        (click)="editor.chain().focus().setTextAlign('right').run()"
      >
        Right
      </button>
      <button
        (click)="editor.chain().focus().setTextAlign('justify').run()"
      >
        Justify
      </button>
      <button (click)="editor.chain().focus().unsetTextAlign().run()">
        Unset text align
      </button>
    </div>
    <div className="button-group">
      <button
        (click)="editor.chain().focus().toggleCode().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('code') }"
      >
        Toggle code
      </button>
      <button
        (click)="editor.chain().focus().setCode().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('code') }"
      >
        Set code
      </button>
      <button
        (click)="editor.chain().focus().unsetCode().run()"
        [ngClass]="{ 'bg-black text-white': editor.isActive('code') }"
      >
        Unset code
      </button>
    </div>
    <div className="button-group" *ngIf="editor.can().undo() || editor.can().redo()">
      <button (click)="editor.chain().focus().undo().run()" *ngIf="editor.can().undo()">
        Undo
      </button>
      <button (click)="editor.chain().focus().redo().run()" *ngIf="editor.can().redo()">
        Redo
      </button>
    </div>
    <tiptap-editor
      [editor]="editor"
      name="simple-editor"
      [ngModel]="value"
      (ngModelChange)="handleValueChange($event)"
    ></tiptap-editor>
    <div>{{editor.storage["characterCount"].characters()}} / {{characterLimit}} characters</div>
    <h1>HTML-Output:</h1>
    <p>{{ value }}</p>
</form>
